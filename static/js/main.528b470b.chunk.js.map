{"version":3,"sources":["components/HeaderComponent.js","utils/time.js","utils/words.js","components/TypingComponent.js","App.js","index.js"],"names":["HeaderComponent","id","href","React","Component","currentTime","Date","getTime","generateWords","n","Array","fill","map","_","faker","random","word","toLowerCase","join","TypingComponent","props","state","precision","previousText","nextText","window","currentChar","charAt","slice","errorText","wordCount","errors","keyPresses","startTime","wpm","accuracy","toFixed","handleKeyDown","bind","event","since","this","key","length","split","substring","setState","document","addEventListener","removeEventListener","className","Math","max","padStart","withSizes","width","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.528b470b.chunk.js","sourcesContent":["import React from 'react';\nexport default class HeaderComponent extends React.Component {\n    render () {\n        return (\n            <div id=\"header\">\n                <a href=\"/\"><h3>clacking.club</h3></a>\n            </div>\n        );\n    }\n}","export const currentTime = () => new Date().getTime();\n\nexport const timeDelta = (since) => (currentTime() - since) / (60*1000);","import faker from 'faker/locale/en_GB';\n\nexport default function generateWords(n = 10) {\n    return new Array(n).fill(\"\").map(_ => faker.random.word().toLowerCase()).join(\" \");\n}\n","import React from 'react';\nimport {currentTime, timeDelta} from \"../utils/time.js\";\nimport generateWords from \"../utils/words.js\";\nimport withSizes from 'react-sizes';\n\nconst mapSizesToProps = ({ width }) => ({\n    window: width < 600 ? 10: 20,\n  })\n\n class TypingComponent extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {};\n        \n\n        // How many characters to display to either side of the current char\n        // Decimal precision for accuracy\n        this.precision = 1;\n        \n        // Text that has been correctly typed\n        this.previousText = \"\";\n        // Upcoming text\n        this.nextText = generateWords(this.props.window * 2);\n        // The current character to be typed\n        this.currentChar = this.nextText.charAt(0);\n        this.nextText = this.nextText.slice(1);\n        // The current typos\n        this.errorText = \"\";\n\n        this.wordCount = 0;\n        this.errors = 0;\n        this.keyPresses = 0;\n        \n        this.startTime = null;\n        this.wpm = \"0\";\n        this.accuracy = (100).toFixed(this.precision);\n        \n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n\n    handleKeyDown(event) {\n        if (!this.startTime) {\n            this.startTime = currentTime();\n        }\n        this.keyPresses++;\n        if (event.key === this.currentChar && this.errorText.length === 0) {\n            if (this.nextText.charAt(0) === \" \") {\n                this.wordCount++;\n            }\n            this.previousText += this.currentChar;\n            this.currentChar = this.nextText.charAt(0);\n            this.nextText = this.nextText.slice(1);\n            if (this.nextText.split(\" \").length <= this.props.window) {\n                this.nextText += ' ' + generateWords(this.props.window);\n            }\n        } else {\n            if (event.key === \"Backspace\" || event.key === \"Delete\") {\n                this.errorText = this.errorText.substring(0, this.errorText.length - 1);\n                this.keyPresses--;\n            } else if (event.key.length === 1) {\n                this.errors++;\n                this.errorText += event.key;\n            }\n        }\n\n        this.wpm = ((this.wordCount / timeDelta(this.startTime)) || 0).toFixed(0);\n        this.accuracy = ((1 - this.errors / this.keyPresses) * 100).toFixed(this.precision);\n        this.setState({});\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n    componentWillUnmount() {\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n    }\n    \n    render () {\n        return (\n            <div className=\"typing\">\n                <span id=\"previousText\">{this.previousText.substring(this.previousText.length-(Math.max(this.props.window - this.errorText.length, 0)))\n                    .padStart((Math.max(this.props.window - this.errorText.length, 0)))}</span>\n                <span id=\"errorText\">{this.errorText.slice(-this.props.window)}</span>\n                <span id=\"currentChar\">{this.currentChar}</span>\n                <span id=\"nextText\">{this.nextText.substring(0, this.props.window)}</span>\n                <div id=\"stats\"><span id=\"wpm\">{this.wpm.padStart(3)} words/minute</span><span id=\"accuracy\">{this.accuracy} %</span></div>\n            </div>\n        );\n    }\n}\nexport default withSizes(mapSizesToProps)(TypingComponent);","import './App.css';\nimport HeaderComponent from './components/HeaderComponent';\nimport TypingComponent from \"./components/TypingComponent.js\";\n\nfunction App() {\n\n  return (\n    <div className=\"App unselectable\">\n      <HeaderComponent/>\n      <TypingComponent />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}